!function(t,a,e){"use strict";function n(t,e,n=!1){const s=new URL(a.document.URL);e.length?n?s.searchParams.append(t,e):s.searchParams.set(t,e):s.searchParams.delete(t),a.history.replaceState(null,"",s.toString())}var s={init:function(){s.filter_events(),s.filter_posts(),s.pagination()},filter_events:function(){t(".events .filters").length&&(t(".events .filters").on("click","a",(function(a){a.preventDefault(),t("#search-form input[name='search']").val("");var e=t("#search-form").serialize(),n=t(".events .filters .active a").attr("data-type");t(".events .filters li").each((function(a){t(this).removeClass("active")})),t(this).parent().addClass("active"),t(".events .tabs .tab").addClass("active"),t.ajax({url:ajaxvars.ajaxurl,data:{action:vars.ajax.action,post_type:vars.ajax.post_type,order:n,data_attr:e,_ajax_nonce:vars.ajax.post_filter_nonce_token},type:"POST",success:function(a){a&&(t(".events .events-list").html(a.content),t(".events .pagination").html(a.pagination))}})})),t("#search-form").on("click","button",(function(a){a.preventDefault();var e=t("#search-form").serialize(),n=t(".events .filters .active a").attr("data-type");t.ajax({url:ajaxvars.ajaxurl,data:{action:"load_events",post_type:vars.ajax.post_type,order:n,data_attr:e,paged:1,_ajax_nonce:vars.ajax.post_filter_nonce_token},type:"POST",success:function(a){a&&(t(".events .events-list").html(a.content),t(".events .pagination").html(a.pagination))}})})))},filter_posts:function(){t("#resourceFilters").length&&(t("#resourceFilters").on("change","select",(function(a){a.preventDefault();var e=t("#resourceFilters").serialize(),s=t('select[name="content-type"]'),o=t('select[name="organization"]'),r=t('select[name="role"]'),i=t(".resources-filters");t("input[name='search']").length&&n("search",t("input[name='search']").val()),t('select[name="content-type"]').length&&("all"!=s.val()?n("content-type",s.val()):n("content-type","")),t('select[name="organization"]').length&&("all"!=o.val()?n("organization",o.val()):n("organization","")),t('select[name="role"]').length&&("all"!=r.val()?n("role",r.val()):n("role","")),t.ajax({url:ajaxvars.ajaxurl,data:{action:vars.ajax.action,data_attr:e,paged:1,_ajax_nonce:vars.ajax.post_filter_nonce_token},type:"POST",success:function(a){a&&(t(".posts-list").html(a.content),t(".pagination").html(a.pagination),t("html, body").animate({scrollTop:t(i).offset().top-200},500))}})})),t("#resourceFilters").on("click","button",(function(a){a.preventDefault();var e=t("#resourceFilters").serialize();t("input[name='search']").length&&n("search",t("input[name='search']").val()),t.ajax({url:ajaxvars.ajaxurl,data:{action:vars.ajax.action,data_attr:e,paged:1,_ajax_nonce:vars.ajax.post_filter_nonce_token},type:"POST",success:function(a){a&&(t(".posts-list").html(a.content),t(".pagination").html(a.pagination))}})})))},pagination:function(){t(".pagination").on("click",".page-numbers",(function(a){var e,n,s;a.preventDefault();var o=t(".events .filters .active a").attr("data-type"),r=t(this).attr("data-num");t(".events-list").length?(e=t("#search-form").serialize(),n="load_events"):(e=t("#resourceFilters").serialize(),n=vars.ajax.action),r>0&&t.ajax({url:ajaxvars.ajaxurl,data:{action:n,post_type:vars.ajax.post_type,order:o,data_attr:e,paged:r,_ajax_nonce:vars.ajax.post_filter_nonce_token},type:"POST",success:function(a){a&&(t(".events .events-list").length?(t(".events .events-list").html(a.content),t(".events .pagination").html(a.pagination),s=t(".events")):t(".posts-list").length&&(t(".posts-list").html(a.content),t(".pagination").html(a.pagination),s=t(".resources-filters")),t("html, body").animate({scrollTop:t(s).offset().top-200},500))}})}))},load:function(){},resize:function(){},scroll:function(){}};t(e).ready(s.init),t(a).on({load:s.load,resize:s.resize,scroll:s.scroll})}(jQuery,window,document);
